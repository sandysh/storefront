(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{179:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("Checkout Store is designed to handle all actions related the checkout operations and used to propagate the Checkout UI.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),a("p",[t._v("Checkout state is centralized around the "),a("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/core/models/order.schema.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("Order object"),a("OutboundLink")],1),t._v(" and the address data given by the user within the checkout process, to be stored for further use in the "),a("code",[t._v("localForage")]),t._v(".")]),t._v(" "),a("p",[t._v("The state is modified by "),a("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/1793aaa7afc89b3f08e443f40dd5c6131dd477ba/core/store/modules/checkout/actions.js#L11",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("placeOrder")]),a("OutboundLink")],1),t._v(" action and "),a("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/1793aaa7afc89b3f08e443f40dd5c6131dd477ba/core/store/modules/checkout/actions.js#L41",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("load")]),a("OutboundLink")],1),t._v(" which loads the state from browser database.")]),t._v(" "),a("p",[t._v("The category state data:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("order")]),t._v(" - this is the last order to be placed, the "),a("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/core/models/order.schema.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("schema is defined"),a("OutboundLink")],1),t._v(" in Ajv compliant format")]),t._v(" "),a("li",[a("code",[t._v("shippingDetails")]),t._v(", "),a("code",[t._v("paymentDetails")]),t._v(" - the address information provided by the user during the "),a("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/core/pages/Checkout.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("Checkout"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("The cart store provides following public actions:")]),t._v(" "),t._m(4),t._v(" "),a("p",[t._v("Action called by "),a("code",[t._v("Checkout.vue")]),t._v(" to complete the order. Data object is validated against the "),a("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/core/models/order.schema.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("order schema"),a("OutboundLink")],1),t._v(", stored within the "),a("code",[t._v("localForage")]),t._v(" collection by subseqent call of "),a("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/1793aaa7afc89b3f08e443f40dd5c6131dd477ba/core/store/modules/order/actions.js#L12",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("order/placeOrder")]),a("OutboundLink")],1)]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"checkout-vuex-store"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#checkout-vuex-store","aria-hidden":"true"}},[this._v("#")]),this._v(" Checkout Vuex Store")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"state"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#state","aria-hidden":"true"}},[this._v("#")]),this._v(" State")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v(" state"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    order"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    personalDetails"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      firstName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      lastName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      emailAddress"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      password"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      createAccount"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    shippingDetails"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      firstName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      lastName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      country"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      streetAddress"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      apartmentNumber"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      city"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      state"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      zipCode"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      phoneNumber"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      shippingMethod"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    paymentDetails"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      firstName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      lastName"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      company"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      country"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      streetAddress"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      apartmentNumber"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      city"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      state"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      zipCode"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      phoneNumber"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      taxId"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      paymentMethod"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("''")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"actions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#actions","aria-hidden":"true"}},[this._v("#")]),this._v(" Actions")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"placeorder-context-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#placeorder-context-order","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("placeOrder (context, { order })")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"savepersonaldetails-commit-personaldetails"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#savepersonaldetails-commit-personaldetails","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("savePersonalDetails ({ commit }, personalDetails)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Stores the personal Details (the format is exactly the same as this store "),s("code",[this._v("state.personalDetails")]),this._v(") for later use in the browser's storage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"saveshippingdetails-commit-shippingdetails"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#saveshippingdetails-commit-shippingdetails","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("saveShippingDetails ({ commit }, shippingDetails)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Stores the shipping Details (the format is exactly the same as this store "),s("code",[this._v("state.shippingDetails")]),this._v(") for later use in the browser's storage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"savepaymentdetails-commit-paymentdetails"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#savepaymentdetails-commit-paymentdetails","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("savePaymentDetails ({ commit }, paymentDetails)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Stores the payment Details (the format is exactly the same as this store "),s("code",[this._v("state.paymentDetails")]),this._v(") for later use in the browser's storage")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"load-commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#load-commit","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("load ({ commit })")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Load the current state from the "),s("code",[this._v("localForage")])])}],!1,null,null,null);e.options.__file="checkout-store.md";s.default=e.exports}}]);